// ===== OPTIMIZED LAYOUT STYLES =====

// ===== CONTAINER & GRID SYSTEM =====
#wrap{ 
  overflow-x: clip; 
  width: 100%;
  min-width: 320px; // 최소 너비 설정
}

.container {
  width: 100%;
  max-width: rem(1200);
  margin: 0 auto;
  @include container-padding($spacing-xl, $spacing-xl);
  
  @include media-max(md) {
    @include container-padding($spacing-md, $spacing-md);
  }
  
  @include media-max(sm) {
    @include container-padding($spacing-sm, $spacing-sm);
  }
}

.container-fluid {
  width: 100%;
  @include container-padding($spacing-xl, $spacing-xl);
  
  @include media-max(md) {
    @include container-padding($spacing-md, $spacing-md);
  }
  
  @include media-max(sm) {
    @include container-padding($spacing-sm, $spacing-sm);
  }
}

.container-narrow {
  width: 100%;
  max-width: rem(800);
  margin: 0 auto;
  @include container-padding($spacing-xl, $spacing-xl);
  
  @include media-max(md) {
    @include container-padding($spacing-md, $spacing-md);
  }
  
  @include media-max(sm) {
    @include container-padding($spacing-sm, $spacing-sm);
  }
}

.container-wide {
  width: 100%;
  max-width: rem(1400);
  margin: 0 auto;
  @include container-padding($spacing-xl, $spacing-xl);
  
  @include media-max(md) {
    @include container-padding($spacing-md, $spacing-md);
  }
  
  @include media-max(sm) {
    @include container-padding($spacing-sm, $spacing-sm);
  }
}

// ===== SECTION CONTAINER =====
.section-container {
  width: 100%;
  max-width: rem(1200);
  margin: 0 auto;
  padding: 0 $spacing-xl;
  
  @include media-max(md) {
    padding: 0 $spacing-md;
  }
  
  @include media-max(sm) {
    padding: 0 $spacing-sm;
  }
}

// ===== SECTION LAYOUT =====
.section {
  @include section-padding($spacing-2xl, $spacing-2xl);
  
  @include media-max(md) {
    @include section-padding($spacing-xl, $spacing-xl);
  }
  
  @include media-max(sm) {
    @include section-padding($spacing-lg, $spacing-lg);
  }
}

.section--hero {
  min-height: 100vh;
  @include center-vertical;
  padding: 0;
  
  @include media-max(md) {
    min-height: 80vh;
  }
  
  @include media-max(sm) {
    min-height: 70vh;
  }
}

.section--compact {
  @include section-padding($spacing-2xl, $spacing-2xl);
  
  @include media-max(md) {
    @include section-padding($spacing-xl, $spacing-xl);
  }
  
  @include media-max(sm) {
    @include section-padding($spacing-lg, $spacing-lg);
  }
}

.section--spacious {
  @include section-padding($spacing-3xl, $spacing-3xl);
  
  @include media-max(md) {
    @include section-padding($spacing-2xl, $spacing-2xl);
  }
  
  @include media-max(sm) {
    @include section-padding($spacing-xl, $spacing-xl);
  }
}

// ===== SECTION HEADER =====
.section-header {
  margin-bottom: $spacing-2xl;
  text-align: center;
  
  @include media-max(md) {
    margin-bottom: $spacing-xl;
  }
  
  @include media-max(sm) {
    margin-bottom: $spacing-lg;
  }
  
  .section-number {
    display: inline-block;
    font-size: rem(14);
    font-weight: $font-weight-medium;
    color: var(--accent);
    margin-bottom: $spacing-sm;
    padding: $spacing-xs $spacing-sm;
    background: rgba($color-accent, 0.1);
    border-radius: $radius-sm;
    
    @include media-max(sm) {
      font-size: rem(12);
      padding: $spacing-xs $spacing-sm;
    }
  }
  
  .section-title {
    @include heading('xl', 'bold');
    margin-bottom: $spacing-md;
    
    @include media-max(md) {
      font-size: clamp(rem(20), 6vw, rem(36));
    }
    
    @include media-max(sm) {
      font-size: clamp(rem(18), 7vw, rem(28));
    }
    
    &::after {
      content: '';
      display: block;
      width: rem(80);
      height: rem(4);
      background: linear-gradient(135deg, var(--secondary), var(--primary));
      margin: $spacing-md auto 0;
      border-radius: $radius-sm;
      
      @include media-max(sm) {
        width: rem(60);
        height: rem(3);
      }
    }
  }
  
  .section-subtitle {
    font-size: rem(18);
    color: var(--text-secondary);
    line-height: 1.6;
    max-width: rem(600);
    margin: 0 auto;
    
    @include media-max(md) {
      font-size: rem(16);
      max-width: 100%;
    }
    
    @include media-max(sm) {
      font-size: rem(14);
    }
  }
}

// ===== RESPONSIVE GRID SYSTEM =====
.grid-item {
  width: 100%;
  
  @include media-max(md) {
    margin-bottom: $spacing-lg;
    
    &:last-child {
      margin-bottom: 0;
    }
  }
  
  @include media-max(sm) {
    margin-bottom: $spacing-md;
  }
}

// ===== LAYOUT UTILITIES =====
.hero-layout,
.about-layout,
.projects-content,
.contact-layout {
  display: grid;
  gap: rem(48);
  align-items: center;
  
  @include media-max(md) {
    gap: rem(32);
  }
  
  @include media-max(sm) {
    gap: rem(24);
  }
}

.hero-layout {
  grid-template-columns: 1fr;
  
  @include media-min(lg) {
    grid-template-columns: 1fr 1fr;
    gap: rem(48);
  }
  
  @include media-max(md) {
    grid-template-columns: 1fr;
    gap: rem(24);
  }
  
  @include media-max(sm) {
    gap: rem(16);
  }
}

.about-layout {
  grid-template-columns: 1fr;
  
  @include media-min(lg) {
    grid-template-columns: 1fr 1fr;
    gap: rem(64);
  }
  
  @include media-max(md) {
    grid-template-columns: 1fr;
    gap: rem(32);
  }
  
  @include media-max(sm) {
    gap: rem(24);
  }
}

.projects-content {
  grid-template-columns: 1fr 1.2fr;
  
  @include media-max(md) {
    grid-template-columns: 1fr;
    gap: rem(32);
  }
  
  @include media-max(sm) {
    gap: rem(24);
  }
}

.contact-layout {
  grid-template-columns: 1fr 1fr;
  
  @include media-max(md) {
    grid-template-columns: 1fr;
    gap: rem(32);
  }
  
  @include media-max(sm) {
    gap: rem(24);
  }
}

// ===== PROJECTS SECTION LAYOUT =====
.projects-section {
  .project-tabs {
    width: calc(100% + 64px); // section-container의 padding-xl * 2만큼 width 증가
    margin: 0 rem(-32); // section-container의 padding-xl과 정확히 일치
    border-radius: 0;
    
    @include media-max(md) {
      width: calc(100% + 32px); // section-container의 padding-md * 2만큼 width 증가
      margin: 0 rem(-16); // section-container의 padding-md와 정확히 일치
    }
    
    @include media-max(sm) {
      width: calc(100% + 16px); // section-container의 padding-sm * 2만큼 width 증가
      margin: 0 rem(-8); // section-container의 padding-sm과 정확히 일치
    }
  }
}

// ===== MOBILE SCROLL OPTIMIZATIONS =====
@include media-max(sm) {
  // 스크롤 성능 개선
  .section-container {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }
  
  // 그리드 아이템 간격 최적화
  .grid-item {
    &:not(:last-child) {
      margin-bottom: $spacing-md;
    }
  }
  
  // 섹션 간격 최적화
  .section {
    &:not(:last-child) {
      margin-bottom: $spacing-lg;
    }
  }
  
  // 컨테이너 최대 너비 제한
  .section-container {
    max-width: 100vw;
    overflow-x: hidden;
  }
}

// ===== RESPONSIVE DISPLAY =====
@include responsive-display;

// ===== PRINT STYLES =====
@media print {
  .section {
    padding: $spacing-md 0;
  }
  
  .container {
    max-width: none;
    padding: 0;
  }
  
  .hidden-print {
    display: none !important;
  }
}
